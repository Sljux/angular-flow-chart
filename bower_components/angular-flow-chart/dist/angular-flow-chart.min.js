"use strict";function flowChartFactory(a){function b(b){function c(){function c(a){f.push(a),b.$broadcast("flowChart:newDrop",a)}a.ws.subscribe(b.flowId,c,b)}var d=b.flowId,e=b.limit||20,f=[];a.drop(d).find({limit:e}).then(function(a){f=a.body.reverse(),c(),b.$broadcast("flowChart:init",f)})}function c(a){this.limit=a.limit}return c.$inject=["$scope"],{restrict:"AE",transclude:!0,scope:{flowId:"=",limit:"="},template:"<div ng-transclude></div>",link:b,controller:c}}angular.module("ngFlowChart",["flowthings","chart.js"]).directive("flowChart",flowChartFactory),flowChartFactory.$inject=["flowthings"];