<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Angular-flow-chart by Sljux</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">

    <link rel="stylesheet" href="bower_components/angular-chart.js/dist/angular-chart.css"/>
</head>
<body>
<section class="page-header">
    <h1 class="project-name">Angular Flow Charts</h1>

    <h2 class="project-tagline">Real-time charts for IoT with Angular and FlowThings</h2>
    <a href="https://github.com/Sljux/angular-flow-chart" class="btn">View on GitHub</a>
    <a href="https://github.com/Sljux/angular-flow-chart/zipball/master" class="btn">Download .zip</a>
    <a href="https://github.com/Sljux/angular-flow-chart/tarball/master" class="btn">Download .tar.gz</a>
</section>

<section class="main-content">
    <div ng-app="Demo">
        <div ng-controller="DemoCtrl">
            <flow-chart flow-id="flowId" limit="50">
                <flow-chart-js
                        value-properties="chart.valueProp"
                        value-defaults="chart.valueDefaults"
                        chart-type="line"
                        chart-options="chart.options"
                        series="chart.series"
                        legend="chart.legend">
                </flow-chart-js>
            </flow-chart>
        </div>
    </div>
    <div>

        <p>HTML</p>

<pre><code>&lt;div ng-app="Demo"&gt;
    &lt;div ng-controller="DemoCtrl"&gt;
        &lt;flow-chart flow-id="flowId" limit="50"&gt;
            &lt;flow-chart-js
                value-properties="chart.valueProp"
                value-defaults="chart.valueDefaults"
                chart-type="line"
                chart-options="chart.options"
                series="chart.series"
                legend="chart.legend"&gt;
            &lt;/flow-chart-js&gt;
        &lt;/flow-chart&gt;
    &lt;/div&gt;
&lt;/div&gt;</code></pre>

        <p>JS</p>

<pre><code>angular.module('Demo', ['flowthings', 'ngFlowChart', 'ngFlowChartJs'])
    .config(function (flowthingsProvider) {
        flowthingsProvider.options.account = 'sljux';
        flowthingsProvider.options.token = 'm26E5C3BTxjt8QXsYxbqoL1egCTR';
    })
    .run(function(flowthings) {
        flowthings.ws.connect()
    })
    .controller('DemoCtrl', function ($scope) {
        $scope.flowId = 'f55e6cc2268056d46fb80581c';

        $scope.chart = {
            options: {
                animation: false,
                scaleShowHorizontalLines: true,
                scaleShowVerticalLines: false,
                pointDot: false,
                datasetStrokeWidth: 0.5
            },
            series: ['Inside Noise', 'Outside Noise'],
            valueProp: ['inside.noise', 'outside.noise'],
            valueDefaults: 0,
            legend: true
        }
    });
</code></pre>

    </div>
    <article>
        <h1><a id="user-content-angular-flow-chart" class="anchor" href="#angular-flow-chart" aria-hidden="true"><span
                class="octicon octicon-link"></span></a>Angular Flow Chart</h1>

        <p>Real-time charts for IoT using Angular and FlowThings. Uses the official
            <a href="https://github.com/flowthings/angular-client">FlowThings Angular Client</a>
            for communication with FlowThings server.</p>

        <p>Install via Bower</p>

        <div class="highlight highlight-sh">
            <pre>bower install angular-flow-chart --save</pre>
        </div>

        <p>Include the scripts</p>

        <div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span
                class="pl-s"><span class="pl-pds">"</span>bower_components/Chart.js/Chart.js<span class="pl-pds">"</span></span>&gt;&lt;/<span
                class="pl-ent">script</span>&gt; <span class="pl-c">&lt;!-- Chart.js --&gt;</span>
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>bower_components/angular-chart.js/dist/angular-chart.min.js<span
                    class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt; <span class="pl-c">&lt;!-- Angular Chart.js --&gt;</span>
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>bower_components/flowthings-browser/dist/flowthings-browser.min.js<span
                    class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt; <span class="pl-c">&lt;!-- FlowThings Browser --&gt;</span>
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>bower_components/flowthings-angular/dist/flowthings-angular.min.js<span
                    class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt; <span class="pl-c">&lt;!-- FlowThings Angular --&gt;</span>
&lt;<span class="pl-ent">script</span> <span class="pl-e">src</span>=<span class="pl-s"><span class="pl-pds">"</span>bower_components/angular-flow-chart/dist/angular-flow-chart.min.js<span
                    class="pl-pds">"</span></span>&gt;&lt;/<span class="pl-ent">script</span>&gt; <span class="pl-c">&lt;!-- Angular Flow Charts --&gt;</span></pre>
        </div>

        <p>Include the <code>ngFlowChart</code> module as a dependency to your module, alongside <code>flowthings</code>
            for the official FlowThings library:</p>

        <div class="highlight highlight-js">
			<pre>angular.module(<span class="pl-s"><span class="pl-pds">'</span>app<span class="pl-pds">'</span></span>, [<span
                    class="pl-s"><span class="pl-pds">'</span>flowthings<span class="pl-pds">'</span></span>, <span
                    class="pl-s"><span class="pl-pds">'</span>ngFlowChart<span class="pl-pds">'</span></span>])</pre>
        </div>

        <p>Configure and start FlowThings service (as per
            <a href="https://github.com/flowthings/angular-client#example">official docs</a>):</p>

        <div class="highlight highlight-js"><pre>angular.module(<span class="pl-s"><span class="pl-pds">'</span>app<span
                class="pl-pds">'</span></span>)
    .config(<span class="pl-k">function</span> (<span class="pl-smi">flowthingsProvider</span>) {
        flowthingsProvider.<span class="pl-c1">options</span>.account <span class="pl-k">=</span> <span class="pl-s"><span
                    class="pl-pds">'</span>&lt; your username &gt;<span class="pl-pds">'</span></span>;
        flowthingsProvider.<span class="pl-c1">options</span>.token <span class="pl-k">=</span> <span class="pl-s"><span
                    class="pl-pds">'</span>&lt; your token &gt;<span class="pl-pds">'</span></span>;
    })
    .run(<span class="pl-k">function</span>(<span class="pl-smi">flowthings</span>) {
        flowthings.ws.connect()
    });</pre>
        </div>

        <p>Use the <code>&lt;flow-chart&gt;&lt;/flow-chart&gt;</code> tag in your view, adding a chart plugin within:
        </p>

        <div class="highlight highlight-html"><pre>&lt;<span class="pl-ent">flow-chart</span> <span
                class="pl-e">flow-id</span>=<span class="pl-s"><span class="pl-pds">"</span>'f123...'<span class="pl-pds">"</span></span> <span
                class="pl-e">limit</span>=<span class="pl-s"><span class="pl-pds">"</span>20<span class="pl-pds">"</span></span>&gt;
    &lt;<span class="pl-ent">flow-chart-js</span> <span class="pl-e">value-properties</span>=<span
                    class="pl-s"><span class="pl-pds">"</span>['temperature', 'humidity']<span class="pl-pds">"</span></span> <span
                    class="pl-e">chart-type</span>=<span class="pl-s"><span class="pl-pds">"</span>line<span class="pl-pds">"</span></span>&gt;&lt;/<span
                    class="pl-ent">flow-chart-js</span>&gt;
&lt;/<span class="pl-ent">flow-chart</span>&gt;</pre>
        </div>

        <p>Angular Flow Chart accepts any JS chart library via a plugin. Example of a plugin using
            <a href="https://github.com/nnnick/Chart.js">ChartJS</a>
            can be found <a href="https://github.com/Sljux/angular-flow-chartjs">here</a>.</p>

        <h2><a id="user-content-flow-chart"
               class="anchor"
               href="#flow-chart"
               aria-hidden="true"><span class="octicon octicon-link"></span></a>Flow Chart</h2>

        <p><strong>flowChart</strong> directive serves as a base for communication with FlowThings server, initializes
            data and passes any incoming data to the chart.
            Any actual chart is handled by plugin directives
            <a href="https://docs.angularjs.org/guide/directive#creating-a-directive-that-wraps-other-elements">transcluded</a>
            within the <code>&lt;flow-chart&gt;&lt;/flow-chart&gt;</code> tag. You can add as many chart plugins as you
            want.</p>

        <h3><a id="user-content-options"
               class="anchor"
               href="#options"
               aria-hidden="true"><span class="octicon octicon-link"></span></a>Options</h3>

        <ul>
            <li><code>flowId</code>: id of the source Flow</li>
            <li><code>limit</code>: max number od data points in the graph - used in initial data fetching and passed
                down to chart plugin
            </li>
        </ul>

        <h3><a id="user-content-transclusion-controller"
               class="anchor"
               href="#transclusion-controller"
               aria-hidden="true"><span class="octicon octicon-link"></span></a>Transclusion Controller</h3>

        <ul>
            <li>Exposes <code>limit</code> in the controller, so it is available to transcluded charts</li>
        </ul>

        <h3><a id="user-content-events"
               class="anchor"
               href="#events"
               aria-hidden="true"><span class="octicon octicon-link"></span></a>Events</h3>

        <ul>
            <li><code>flowChart:init</code>: fired upon initialisation, initial drops passed to subscribers</li>
            <li><code>flowChart:newDrop</code>: fired when new drop arrives, passing it to the subscribers</li>
        </ul>

        <p>For more info on how to build chart plugin, refer to <a href="https://github.com/Sljux/angular-flow-chartjs">Angular
            Flow ChartJS Plugin</a>.</p>

    </article>

    <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Sljux/angular-flow-chart">Angular-flow-chart</a> is maintained by <a
                href="https://github.com/Sljux">Sljux</a>.</span>
    </footer>

</section>

<script src="bower_components/angular/angular.min.js"></script>
<script src="bower_components/Chart.js/Chart.js"></script>
<script src="bower_components/angular-chart.js/dist/angular-chart.min.js"></script>
<script src="bower_components/flowthings-browser/dist/flowthings-browser.min.js"></script>
<script src="bower_components/flowthings-angular/dist/flowthings-angular.min.js"></script>
<script src="bower_components/angular-flow-chart/dist/angular-flow-chart.min.js"></script>
<script src="bower_components/angular-flow-chartjs/dist/angular-flow-chartjs.js"></script>
<script src="scripts/main.js"></script>
<script src="scripts/DemoCtrl.js"></script>

</body>
</html>
